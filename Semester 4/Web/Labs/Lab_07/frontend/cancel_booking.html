<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Cancel Booking</title>
    <link rel="stylesheet" href="cancelBooking.css" />
  </head>
  <body>
    <div class="container">
      <h1>Cancel Booking</h1>
      <form id="cancel-booking-form" action="../backend/cancel_booking.php" method="post">
        <div class="form-group">
          <label for="client-name">First and Last Name:</label>
          <input type="text" id="name" name="name" required />
          <div id="name-error" class="error"></div>
        </div>
        <div class="form-group">
          <label for="check_in_date">Check-in Date:</label>
          <input type="date" id="check_in_date" name="check_in_date" required />
          <div id="check-in-date-error" class="error"></div>
        </div>
        <div class="form-group">
          <label for="check_out_date">Check-out Date:</label>
          <input
            type="date"
            id="check_out_date"
            name="check_out_date"
            required
          />
          <div id="check-out-date-error" class="error"></div>
        <button type="submit" onclick="validateForm()">Cancel Booking</button>
        <button type="reset" onclick="window.location.href='./index.html'">Back to main page</button>
      </form>
    </div>

    <script>
      function validateForm() {
        var name = document.getElementById("name").value;
        var checkInDate = document.getElementById("check_in_date").value;
        var checkOutDate = document.getElementById("check_out_date").value;
        var errors = false;

        document.querySelectorAll(".error").forEach(function (element) {
          element.innerHTML = "";
        });

       
        if (new Date(checkOutDate) <= new Date(checkInDate)) {
          document.getElementById("check-out-date-error").innerHTML =
            "Check-out date must be after check-in date.";
          errors = true;
        }

        if (!checkInDate) {
          document.getElementById("check-in-date-error").innerHTML =
            "Please select a check-in date.";
          errors = true;
        }

        if (!checkOutDate) {
          document.getElementById("check-out-date-error").innerHTML =
            "Please select a check-out date.";
          errors = true;
        }

        if (!name) {
          document.getElementById("name-error").innerHTML =
            "Please enter your name.";
          errors = true;
        }
        if (!errors) {
          document.getElementById("booking-form").submit();
        }
      }
    </script>
  </body>
</html>
